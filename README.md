# OnshoreAssetPortfolioTest
解决境内固收+组合回测实务问题的测算方案

捏合择券与配置、体现“现实制约”是我们在固收+策略回测时的两个重要考虑。在《转债量化策略框架2.0与Python实现》，我们更新了转债组合的测算框架与算法。而对于更为宽泛的固收+组合而言，需要解决的是：

1、捏合择券与配置：对于固收+组合，我们面对的不是一类资产，而是流动性、择券逻辑存在一定差异的(至少)三类品种。且每个资产内部也有不同的选择方法，例如股票可以是高股息或成长的，转债可以是等权、双低或者其他策略。而在上一个层级，即资产配置层面，我们也需要测算框架能够反映不同的配比或者配置策略；

2、反映现实制约：不同品种的流动性、交易成本等制约了实际中的效果，我们也希望测算时能够反映出，不同规模的组合，在对应策略上的效果差异。

这里我们介绍一个能满足需求的测算方案。

关键在于：
1）我们需要将具体品种内部的择券策略，与资产配置策略分离。输入不同资产各自的择券策略，以及组合整体和资产内分部的权重分配方案来进行组合测算；
2）实际中我们也需要有对交易成本和资产流动性的考虑。在实务中，我们要看到：a）交易并不免费，这一点我们通过设置交易成本来实现；b）资产流动性制约组合仓位，资产流动性越差，实际组合就容易买不够模拟组合一样的配重。我们的思路是，组合最多只能买到建/换仓日一定比例(例如，10%)的成交（下面的sizeAdjustRate参数）。
